{# ============================================
   Whering-style Wardrobe Card
   ============================================ #}

{% if prenda is defined %}
<div class="group relative break-inside-avoid mb-6">
    <div class="relative bg-white rounded-3xl overflow-hidden transition-transform duration-300 hover:-translate-y-1 hover:shadow-lg border border-gray-100">
        {# Image Wrapper #}
        <div class="aspect-[3/4] overflow-hidden bg-gray-50 flex items-center justify-center relative">
            {% if prenda.imagen is defined and prenda.imagen is not empty %}
                {# Try to use no-bg image if available (future proofing), fallback to standard #}
                <img src="{{ asset('uploads/images/' ~ prenda.imagen) }}" 
                     alt="{{ prenda.nombre }}"
                     loading="lazy"
                     class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-105">
            {% else %}
                <div class="flex flex-col items-center justify-center text-gray-300">
                     <i class="bi bi-image text-4xl mb-2"></i>
                     <span class="text-xs font-medium">No image</span>
                </div>
            {% endif %}

            {# Floating Badge (Category) #}
            {% if prenda.categoria %}
                <span class="absolute top-3 left-3 bg-white/90 backdrop-blur-sm px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider text-dark-gray shadow-sm">
                    {{ prenda.categoria }}
                </span>
            {% endif %}
            
            {# Overlay Actions (Hover) #}
            <div class="absolute inset-x-0 bottom-0 p-4 translate-y-full group-hover:translate-y-0 transition-transform duration-300 flex justify-between items-center bg-gradient-to-t from-black/50 to-transparent">
                <a href="{{ path('app_prenda_edit', {'id': prenda.id}) }}" 
                   class="bg-neon-lime text-dark-gray hover:bg-white hover:text-black font-extrabold rounded-full w-10 h-10 flex items-center justify-center shadow-lg transition-colors">
                    <i class="bi bi-pencil-fill"></i>
                </a>
                
                <a href="{{ path('app_prenda_delete', {'id': prenda.id}) }}" 
                   onclick="return confirm('Â¿Seguro que quieres borrarlo?')"
                   class="bg-white text-red-500 hover:bg-red-500 hover:text-white rounded-full w-10 h-10 flex items-center justify-center shadow-lg transition-colors">
                    <i class="bi bi-trash-fill"></i>
                </a>
            </div>
        </div>
    </div>
    
    {# Minimal Info #}
    <div class="mt-3 px-1">
        <h6 class="font-bold text-dark-gray text-sm truncate">{{ prenda.nombre }}</h6>
        <p class="text-xs text-gray-400 mt-0.5">{{ prenda.marca|default('Unknown Brand') }}</p>
    </div>
</div>
{% endif %}
