{% extends 'base.html.twig' %}

{% block title %}OutfitShare - Descubre tu estilo{% endblock %}

{% block body %}
{# Sección de Categorías / Trending (Pills) #}
<div class="container-fluid mb-4 px-3" style="overflow-x: auto; white-space: nowrap; -ms-overflow-style: none; scrollbar-width: none;">
    <div class="d-inline-flex gap-2 pb-2">
        <a href="#" class="btn btn-dark rounded-pill px-4">Para ti</a>
        <a href="#" class="btn btn-light rounded-pill px-4">Tendencias</a>
        <a href="#" class="btn btn-light rounded-pill px-4">Streetwear</a>
        <a href="#" class="btn btn-light rounded-pill px-4">Vintage</a>
        <a href="#" class="btn btn-light rounded-pill px-4">Formal</a>
        <a href="#" class="btn btn-light rounded-pill px-4">Accesorios</a>
        <a href="#" class="btn btn-light rounded-pill px-4">Zapatillas</a>
        <a href="#" class="btn btn-light rounded-pill px-4">Verano 2024</a>
    </div>
</div>

{# Masonry Grid #}
<div class="container-fluid px-2 px-md-4">
    {% if outfits|length > 0 %}
        {# Usamos columnas de Bootstrap paraMasonry simplificado (o CSS columns) #}
        <div class="row" data-masonry='{"percentPosition": true }'>
             {# Nota: Para masonry real se necesita JS, si no usaremos CSS columns en styles.css #}
            <div class="col-12 text-center text-muted mb-4">
                 <small>Mostrando {{ outfits|length }} estilos recientes</small>
            </div>
            
            <div class="card-columns columns-md-3 columns-lg-4 columns-xl-5 gap-3">
                {% for outfit in outfits %}
                    {% include 'components/_card_outfit.html.twig' with {'outfit': outfit} %}
                {% endfor %}
            </div>
        </div>
        
        {# Estilos inline para soporte rápido de masonry CSS #}
        <style>
            .card-columns {
                column-count: 1;
            }
            @media (min-width: 576px) { .card-columns { column-count: 2; } }
            @media (min-width: 992px) { .card-columns { column-count: 3; } }
            @media (min-width: 1200px) { .card-columns { column-count: 4; } }
            
            .card-columns .card {
                break-inside: avoid; /* Previene que la tarjeta se parta entre columnas */
            }
        </style>
    {% else %}
        <div class="text-center py-5">
            <div class="py-5">
                <i class="bi bi-stars text-os-secondary display-1 mb-3"></i>
                <h3>¡Sé el primero en inspirar!</h3>
                <p class="text-muted">Aún no hay outfits en la comunidad. Sube el tuyo.</p>
                <a href="{{ path('app_outfit_new') }}" class="btn btn-primary mt-3">
                    Crear Outfit
                </a>
            </div>
        </div>
    {% endif %}
</div>
{% endblock %}
