{% extends 'base.html.twig' %}

{% block title %}OutfitShare — Tu armario inteligente{% endblock %}

{# Load landing-specific CSS #}
{% block stylesheets %}
    <link rel="stylesheet" href="{{ asset('css/styles.css') }}">
    <link rel="stylesheet" href="{{ asset('css/landing.css') }}">
{% endblock %}

{# Override default navbar #}
{% block navbar %}
    {% include 'components/_navbar_public.html.twig' %}
{% endblock %}

{% block body %}
<div class="landing-page">

    {# ══════════════════════════════════════════
       1. HERO SECTION
       ══════════════════════════════════════════ #}
    <section class="hero">
        <div class="page-container">
            <span class="hero__badge">Tu armario digital</span>

            <h1 class="hero__title">
                Tu armario.
                <span class="hero__title-accent">Reinventado.</span>
            </h1>

            <p class="hero__subtitle">
                Fotografía tu ropa, organízala en segundos y descubre outfits que ya tienes. Compra menos, viste mejor.
            </p>

            <div class="hero__ctas">
                <a href="{{ path('app_register') }}" class="hero__cta-primary">
                    <i class="bi bi-apple"></i> Descargar la app
                </a>
                <a href="{{ path('app_feed') }}" class="hero__cta-secondary">
                    Ver cómo funciona <i class="bi bi-arrow-right"></i>
                </a>
            </div>

            {# Photo Grid #}
            <div class="hero__grid">
                <div class="hero__grid-item">
                    <img src="https://i.pinimg.com/originals/d0/f3/de/d0f3de714baa0bf50c016f15be08804b.jpg" alt="Look de moda" loading="lazy">
                </div>
                <div class="hero__grid-item">
                    <img src="https://cdn.pixabay.com/photo/2021/10/21/15/14/fashion-6729394_1280.jpg" alt="Estilo de compra" loading="lazy">
                </div>
                <div class="hero__grid-item">
                    <img src="https://i.pinimg.com/736x/9b/e4/44/9be44457b34d1f5827db6e1dc060882f.jpg" alt="Street style" loading="lazy">
                </div>
                <div class="hero__grid-item">
                    <img src="https://i.pinimg.com/564x/c0/86/0b/c0860bac36b99aef43f29e4e9081f909.jpg" alt="Inspiración de outfit" loading="lazy">
                </div>
            </div>
        </div>
    </section>

    {# ══════════════════════════════════════════
       2. TRUST BAR — Destacado en
       ══════════════════════════════════════════ #}
    <section class="trust-bar">
        <div class="page-container">
            <div class="trust-bar__inner">
                <span class="trust-bar__label">Destacado en</span>
                <div class="trust-bar__names">
                    <span class="trust-bar__name">VOGUE</span>
                    <span class="trust-bar__separator">·</span>
                    <span class="trust-bar__name">FORBES</span>
                    <span class="trust-bar__separator">·</span>
                    <span class="trust-bar__name">ELLE</span>
                    <span class="trust-bar__separator">·</span>
                    <span class="trust-bar__name">BAZAAR</span>
                    <span class="trust-bar__separator">·</span>
                    <span class="trust-bar__name">REFINERY29</span>
                    <span class="trust-bar__separator">·</span>
                    <span class="trust-bar__name">VICE</span>
                </div>
            </div>
        </div>
    </section>

    {# ══════════════════════════════════════════
       3. EDITORIAL IMAGE — Foto del armario
       ══════════════════════════════════════════ #}
    <div class="page-container" style="margin-top: 0; margin-bottom: 0;">
        <section class="editorial fade-in-up" style="margin-top: 48px;">
            <img src="https://images.unsplash.com/photo-1558769132-cb1aea458c5e?w=1200&q=80" alt="Armario organizado digitalmente" class="editorial__img">
            <div class="editorial__overlay">
                <span class="editorial__label">Tu armario digital</span>
                <h2 class="editorial__heading">Todo lo que tienes. Siempre a mano.</h2>
            </div>
        </section>
    </div>

    {# ══════════════════════════════════════════
       4. TRES PASOS — Cómo funciona
       ══════════════════════════════════════════ #}
    <section id="features" class="steps-section">
        <div class="page-container">
            <div class="steps-section__inner">
                {# Columna izquierda: Título #}
                <div class="steps-section__header">
                    <div class="steps-section__label">Cómo funciona</div>
                    <h2 class="steps-section__title">Tu armario digital, en tres pasos.</h2>
                    <p class="steps-section__desc">Fotografía tu ropa, crea looks y deja que nuestro Generador de Looks te sorprenda — todo gratis.</p>
                </div>

                {# Columna derecha: Pasos #}
                <div class="steps-list">
                    <div class="step-item" data-step-delay="0">
                        <div class="step-item__number">1</div>
                        <div class="step-item__content">
                            <h3 class="step-item__title">Fotografía tu ropa</h3>
                            <p class="step-item__desc">Una foto de cada prenda. Nosotros eliminamos el fondo automáticamente — tú solo piensa en el estilo.</p>
                        </div>
                    </div>

                    <div class="step-item" data-step-delay="120">
                        <div class="step-item__number">2</div>
                        <div class="step-item__content">
                            <h3 class="step-item__title">Crea tus looks</h3>
                            <p class="step-item__desc">Combina prendas en un lienzo visual. Planifica outfits para el trabajo, una cita o un viaje — todo con lo que ya tienes.</p>
                        </div>
                    </div>

                    <div class="step-item" data-step-delay="240">
                        <div class="step-item__number">3</div>
                        <div class="step-item__content">
                            <h3 class="step-item__title">Déjate sorprender</h3>
                            <p class="step-item__desc">¿Sin ideas hoy? El Generador de Looks combina tu ropa de formas que nunca habrías imaginado.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    {# ══════════════════════════════════════════
       5. COMUNIDAD (Fondo oscuro)
       ══════════════════════════════════════════ #}
    <section id="community" class="community">
        <div class="page-container">
            {# Cabecera #}
            <div class="community__header">
                <div class="community__label">Comunidad</div>
                <div class="community__counter">
                    <span class="community__number">2M+</span>
                    <span class="community__word">armarios</span>
                </div>
                <p class="community__subtitle">Descubre cómo otras personas combinan exactamente las mismas prendas que ya tienes en tu armario.</p>
            </div>

            {# Grid de fotos #}
            <div class="community__grid">
                <div class="community__card">
                    <img src="https://images.unsplash.com/photo-1539008835657-9e8e9680c956?w=600&q=80" alt="Outfit de @sarah_style" loading="lazy">
                    <span class="community__badge">@sarah_style</span>
                </div>
                <div class="community__card">
                    <img src="https://images.unsplash.com/photo-1549298916-b41d501d3772?w=600&q=80" alt="Outfit de @mike_drips" loading="lazy">
                    <span class="community__badge">@mike_drips</span>
                </div>
                <div class="community__card">
                    <img src="https://images.unsplash.com/photo-1506634572416-48cdfe530110?w=600&q=80" alt="Outfit de @elena_wears" loading="lazy">
                    <span class="community__badge">@elena_wears</span>
                </div>
                <div class="community__card">
                    <img src="https://images.unsplash.com/photo-1520024146169-3240400354ae?w=600&q=80" alt="Outfit de @alex_fits" loading="lazy">
                    <span class="community__badge">@alex_fits</span>
                </div>
            </div>
        </div>
    </section>

    {# ══════════════════════════════════════════
       6. CTA FINAL
       ══════════════════════════════════════════ #}
    <section class="cta-final">
        <div class="page-container">
            <a href="{{ path('app_register') }}" class="cta-final__btn">
                Crea tu armario gratis
            </a>
        </div>
    </section>

    {# ══════════════════════════════════════════
       7. FOOTER
       ══════════════════════════════════════════ #}
    <footer class="landing-footer">
        <div class="page-container">
            <div class="landing-footer__inner">
                <div class="landing-footer__brand">
                    <a href="{{ path('app_landing') }}" class="landing-footer__logo">
                        <i class="bi bi-asterisk landing-footer__logo-icon"></i>
                        OutfitShare
                    </a>
                    <span class="landing-footer__tagline">Tu armario inteligente.</span>
                </div>
                <div class="landing-footer__links">
                    <a href="#" class="landing-footer__link">Privacidad</a>
                    <a href="#" class="landing-footer__link">Términos</a>
                    <a href="#" class="landing-footer__link">Contacto</a>
                </div>
                <div class="landing-footer__copy">
                    &copy; {{ "now"|date("Y") }} OutfitShare Inc.
                </div>
            </div>
        </div>
    </footer>

</div>

{# ══════════════════════════════════════════
   LANDING PAGE JAVASCRIPT
   ══════════════════════════════════════════ #}
<script>
document.addEventListener('DOMContentLoaded', function() {
    // -- Navbar scroll effect --
    const nav = document.getElementById('landing-nav');
    if (nav) {
        window.addEventListener('scroll', function() {
            if (window.scrollY > 60) {
                nav.classList.add('scrolled');
            } else {
                nav.classList.remove('scrolled');
            }
        }, { passive: true });
    }

    // -- IntersectionObserver for fade-in-up elements --
    const fadeEls = document.querySelectorAll('.fade-in-up');
    if (fadeEls.length && 'IntersectionObserver' in window) {
        const fadeObserver = new IntersectionObserver(function(entries) {
            entries.forEach(function(entry) {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                    fadeObserver.unobserve(entry.target);
                }
            });
        }, { threshold: 0.15 });
        fadeEls.forEach(function(el) { fadeObserver.observe(el); });
    }

    // -- IntersectionObserver for step items (staggered) --
    const stepItems = document.querySelectorAll('.step-item');
    if (stepItems.length && 'IntersectionObserver' in window) {
        const stepObserver = new IntersectionObserver(function(entries) {
            entries.forEach(function(entry) {
                if (entry.isIntersecting) {
                    const delay = parseInt(entry.target.getAttribute('data-step-delay') || '0', 10);
                    setTimeout(function() {
                        entry.target.classList.add('visible');
                    }, delay);
                    stepObserver.unobserve(entry.target);
                }
            });
        }, { threshold: 0.2 });
        stepItems.forEach(function(el) { stepObserver.observe(el); });
    }
});
</script>
{% endblock %}
