{# Outfit Card — uses .os-card for container #}
<div class="os-card" style="display: flex; flex-direction: column; height: 100%;">
    <a href="{{ path('app_outfit_show', {'id': outfit.id}) }}" class="outfit-card-collage">
        {% if outfit.prendas|length > 0 %}
            <div class="outfit-card-collage-grid">
                {% for prenda in outfit.prendas|slice(0, 4) %}
                    <div class="outfit-card-collage-item">
                        {% if prenda.imagenUrl %}
                            <img src="{{ prenda.imagenUrl }}" alt="{{ prenda.nombre }}" loading="lazy">
                        {% else %}
                            <div class="outfit-card-collage-empty">
                                <svg viewBox="0 0 24 24" stroke="currentColor" fill="none" stroke-width="1.5">
                                    <rect x="2" y="7" width="20" height="14" rx="2" ry="2"/><path d="M16 3h-8l-2 4h12z"/>
                                </svg>
                            </div>
                        {% endif %}
                    </div>
                {% endfor %}
            </div>
            <div class="outfit-card-overlay">
                <span class="outfit-card-overlay-text">
                    Ver look
                    <svg viewBox="0 0 24 24" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <line x1="5" y1="12" x2="19" y2="12"/>
                        <polyline points="12 5 19 12 12 19"/>
                    </svg>
                </span>
            </div>
        {% else %}
            <div style="width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:8px;color:var(--os-text-tertiary);">
                <svg width="40" height="40" viewBox="0 0 24 24" stroke="currentColor" fill="none" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                    <rect x="2" y="7" width="20" height="14" rx="2" ry="2"/><path d="M16 3h-8l-2 4h12z"/>
                </svg>
                <span class="os-label">Look vacío</span>
            </div>
        {% endif %}
        <div class="os-badge os-badge--float">
            {{ outfit.fechaPublicacion ? outfit.fechaPublicacion|date('d M') : 'Nuevo' }}
        </div>
    </a>

    <div class="outfit-card-body">
        <div class="outfit-card-body-top">
            <div>
                <h3 class="outfit-card-title">
                    <a href="{{ path('app_outfit_show', {'id': outfit.id}) }}">{{ outfit.titulo|default('Sin título') }}</a>
                </h3>
                <div class="outfit-card-author">
                    <div class="outfit-card-avatar">
                        {% if outfit.user.profilePhotoUrl %}
                            <img src="{{ outfit.user.profilePhotoUrl }}" alt="{{ outfit.user.name }}" class="w-full h-full object-cover">
                        {% else %}
                            {{ outfit.user.name|first|upper }}
                        {% endif %}
                    </div>
                    <span class="outfit-card-author-name">{{ outfit.user.name }}</span>
                </div>
            </div>
            <button class="os-btn os-btn--ghost" title="Me gusta">
                <svg width="18" height="18" viewBox="0 0 24 24" stroke="currentColor" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/>
                </svg>
            </button>
        </div>
        <div class="outfit-card-footer">
            <span class="outfit-card-count">
                <svg viewBox="0 0 24 24" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <rect x="2" y="7" width="20" height="14" rx="2" ry="2"/><path d="M16 3h-8l-2 4h12z"/>
                </svg>
                {{ outfit.prendas|length }} prendas
            </span>
            <span class="outfit-card-type">{{ outfit.type ? outfit.type.value : 'Casual' }}</span>
        </div>
    </div>
</div>
